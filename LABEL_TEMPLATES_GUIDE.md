# ğŸ“‹ Equipment Label Templates - Guia de Uso

## Overview

O componente `EquipmentLabel` foi refatorado para suportar **4 variantes otimizadas para cenÃ¡rios reais de armazÃ©m**, com suporte automÃ¡tico a branding do Admin e **Print-Safe Mode**.

---

## 1ï¸âƒ£ Templates DisponÃ­veis

### Cable Tag (80Ã—60mm)
**Uso:** Cabos, conectores, componentes pequenos
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      COMPANY             â”‚
â”‚      CABLE XLR           â”‚ 
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚    â”‚   QR Code    â”‚      â”‚
â”‚    â”‚  (100px)     â”‚      â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**CaracterÃ­sticas:**
- Tamanho mÃ­nimo (80Ã—60mm)
- Fonte ultra-pequena (7-8px)
- QR Code em tamanho reduzido (100px)
- Foco: Nome do item + QR

**Quando usar:**
- âœ… Cabos XLR, de Ã¡udio, HDMI
- âœ… Conectores, adaptadores
- âœ… Componentes onde espaÃ§o Ã© crÃ­tico

---

### Small Case (100Ã—80mm)
**Uso:** Malas pequenas, cases compactos
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚    â”‚ Logo Admin  â”‚       â”‚
â”‚    â”‚  (40px h)   â”‚       â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                          â”‚
â”‚    SMALL FLIGHTCASE      â”‚
â”‚                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚  QR Code     â”‚       â”‚
â”‚   â”‚  (120px)     â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**CaracterÃ­sticas:**
- Logo pequeno do Admin (40px altura)
- Fonte pequena (12px para item)
- QR Code mÃ©dio (120px)
- ProporÃ§Ã£o 100Ã—80mm

**Quando usar:**
- âœ… Malas compactas
- âœ… Headphones, microfones
- âœ… Cases de equipamento pequeno

---

### Flightcase (120Ã—100mm) â­ DEFAULT
**Uso:** Standard para a maioria dos equipamentos
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚  Logo Admin     â”‚    â”‚
â”‚   â”‚  (48px height)  â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚
â”‚    AV RENTALS            â”‚
â”‚                          â”‚
â”‚    PROJECTOR 4K          â”‚
â”‚                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚  QR Code     â”‚       â”‚
â”‚   â”‚  (150px)     â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**CaracterÃ­sticas:**
- Logo prominent (48px altura)
- Nome empresa visÃ­vel
- Nome item em destaque
- QR Code grande (150px)
- ProporÃ§Ã£o 120Ã—100mm

**Quando usar:**
- âœ… Projetores, amplificadores
- âœ… Equipamento AV standard
- âœ… Caixas de som, equipamento mÃ©dio
- âœ… **PadrÃ£o recomendado**

---

### Shipping Label A6 (210Ã—150mm)
**Uso:** Etiquetas de envio, paletes, transporte
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Logo Admin (Large)   â”‚ â”‚
â”‚  â”‚    (64px height)       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”‚        AV RENTALS           â”‚
â”‚                             â”‚
â”‚     EQUIPMENT NAME          â”‚
â”‚     SKU: ABC-123456         â”‚
â”‚                             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚    â”‚   QR Code (200px) â”‚    â”‚
â”‚    â”‚   (High Quality)  â”‚    â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**CaracterÃ­sticas:**
- Logo grande e prominent (64px altura)
- SKU visÃ­vel (se disponÃ­vel)
- QR Code em alta qualidade (200px)
- ProporÃ§Ã£o A6 (210Ã—150mm)
- EspaÃ§amento generoso

**Quando usar:**
- âœ… Paletes, envios
- âœ… DocumentaÃ§Ã£o de transporte
- âœ… Etiquetas externas grandes
- âœ… Ãreas com bastante espaÃ§o

---

## 2ï¸âƒ£ Print-Safe Mode (AutomÃ¡tico)

Todos os templates tÃªm **Print-Safe Mode ativado automaticamente** atravÃ©s de CSS `@media print`:

### CaracterÃ­sticas:
```css
@media print {
  .equipment-label {
    background-color: #FFFFFF !important;    /* Fundo branco puro */
    color: #000000 !important;                /* Texto preto puro */
    border-color: #000000 !important;         /* Borda preta */
  }
}
```

### Garantias:
- âœ… Logo fica visÃ­vel em preto e branco
- âœ… QR Code legÃ­vel em impressoras tÃ©rmicas
- âœ… Contraste mÃ¡ximo (WCAG AAA)
- âœ… Sem efeitos de sombra ou gradientes
- âœ… CompatÃ­vel com impressoras de tÃ©rmicas (Zebra, etc.)

### Modo Escuro (Dark Mode):
Mesmo em dark mode, a impressÃ£o sai sempre em **preto e branco puro** graÃ§as ao `@media print`.

---

## 3ï¸âƒ£ IntegraÃ§Ã£o com Branding do Admin

### Logo do Admin
ObtÃ©m automaticamente a partir de `/api/customization`:
```typescript
const brandingConfig = useBrandingConfig();
// pdfLogoUrl, pdfCompanyName, etc.
```

### SincronizaÃ§Ã£o em Tempo Real
- âœ… Polling automÃ¡tico a cada 30 segundos
- âœ… Evento `brandingUpdated` para updates instantÃ¢neos
- âœ… Logo atualiza nas labels sem refresh manual

### ConfiguraÃ§Ã£o do Logo
Admin > PDF Branding > Upload Logo
- O logo aparece automaticamente em todos os templates
- DimensÃµes responsivas por template
- Fallback para texto se sem logo

---

## 4ï¸âƒ£ Como Usar

### No InventoryLabelGenerator:

```tsx
// 1. Selecionar template
<Select value={labelTemplate} onValueChange={setLabelTemplate}>
  <SelectItem value="cable">Cable Tag (80Ã—60mm)</SelectItem>
  <SelectItem value="small-case">Small Case (100Ã—80mm)</SelectItem>
  <SelectItem value="flightcase">Flightcase (120Ã—100mm)</SelectItem>
  <SelectItem value="shipping">Shipping Label A6 (210Ã—150mm)</SelectItem>
</Select>

// 2. Renderizar label com template
<EquipmentLabel 
  item={item}
  companyName={companyName}
  template={labelTemplate}  // â† Template selecionado
  ref={labelRef}
/>

// 3. Download (automaticamente respeita dimensÃµes do template)
const dataUrl = await htmlToImage.toJpeg(itemRef, { quality: 0.95 });
```

### Componente Direto:

```tsx
import { EquipmentLabel, type LabelTemplate } from '@/components/inventory/EquipmentLabel';

<EquipmentLabel 
  item={equipmentItem}
  companyName="AV Rentals"
  template="flightcase"
  ref={labelRef}
/>
```

---

## 5ï¸âƒ£ ReferÃªncia de DimensÃµes

| Template | Largura | Altura | DPI | Uso |
|----------|---------|--------|-----|-----|
| Cable | 80mm | 60mm | 96 | Cabos, conectores |
| Small Case | 100mm | 80mm | 96 | Cases pequenos |
| Flightcase | 120mm | 100mm | 96 | Standard (padrÃ£o) |
| Shipping | 210mm | 150mm | 96 | Envios, paletes |

### ConversÃ£o para Pixels (@ 96 DPI):
- 1mm = 3.78 pixels
- Cable: 302Ã—227px
- Small Case: 378Ã—302px
- Flightcase: 454Ã—378px
- Shipping: 794Ã—567px

---

## 6ï¸âƒ£ CenÃ¡rios de Uso Real

### CenÃ¡rio 1: ImpressÃ£o de Cabos XLR (50 unidades)
```
1. Abrir Label Generator
2. Filtrar: "XLR"
3. Selecionar: "Cable XLR (Qty: 50)"
4. Template: Selecionar "Cable Tag (80Ã—60mm)"
5. Clicar: "Download 1"
6. Resultado: 1 etiqueta JPG 80Ã—60mm otimizada para cabo
7. Imprimir: Usa template pequeno, economiza papel
```

### CenÃ¡rio 2: Envio de Flightcases (5 caixas)
```
1. Abrir Label Generator
2. Selecionar: 5 flightcases (PRJ-4K, AMP-500W, etc.)
3. Template: Selecionar "Shipping Label A6 (210Ã—150mm)"
4. Clicar: "Download 5"
5. Resultado: 5 etiquetas JPG em A6 com logo prominent
6. Imprimir: Grande, clara, com todas as informaÃ§Ãµes
```

### CenÃ¡rio 3: Equipamento Standard (20 itens)
```
1. Abrir Label Generator
2. Selecionar: 20 itens variados
3. Template: "Flightcase (120Ã—100mm)" â† padrÃ£o
4. Clicar: "Download 20"
5. Resultado: 20 etiquetas balanced (nÃ£o muito grandes, nÃ£o muito pequenas)
6. Imprimir: Qualidade profissional, legÃ­vel em todos os modos
```

---

## 7ï¸âƒ£ Troubleshooting

### Logo nÃ£o aparece na impressÃ£o
- âœ… Verificar em Admin > PDF Branding > Logo Upload
- âœ… Confirmar URL do logo Ã© vÃ¡lida
- âœ… Aguardar 30 segundos (polling)

### QR Code fica distorcido
- âœ… Selecionar template maior (ex: Small Case em vez de Cable)
- âœ… Usar Shipping Label para mÃ¡xima qualidade

### Impressora tÃ©rmica nÃ£o reconhece
- âœ… Usar Print-Safe Mode (automÃ¡tico)
- âœ… Ajustar DPI da impressora para 203 (Zebra)
- âœ… Verificar que fundo Ã© branco puro

### Cores erradas na dark mode
- âœ… ImpressÃ£o sempre forÃ§a preto+branco (Print-Safe)
- âœ… Preview em browser pode estar em dark mode, mas print Ã© correto

---

## ğŸ“Š Comparativo de Templates

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Template        â”‚ Tamanho â”‚ Logo     â”‚ Caso de Uso â”‚ Economia  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Cable Tag       â”‚ 80Ã—60   â”‚ Nenhum   â”‚ Cabos       â”‚ â­â­â­â­â­ â”‚
â”‚ Small Case      â”‚ 100Ã—80  â”‚ Pequeno  â”‚ Cases peq.  â”‚ â­â­â­â­  â”‚
â”‚ Flightcase      â”‚ 120Ã—100 â”‚ MÃ©dio    â”‚ Standard    â”‚ â­â­â­    â”‚
â”‚ Shipping Label  â”‚ 210Ã—150 â”‚ Grande   â”‚ Envios      â”‚ â­â­     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Funcionalidades Futuras

- [ ] Suporte para Code128/39 (alÃ©m de QR Code)
- [ ] RotaÃ§Ã£o 90Â° para etiquetas verticais
- [ ] MÃºltiplos idiomas (i18n)
- [ ] Custom templates via Admin
- [ ] ZPL export para impressoras Zebra
- [ ] Batch PDF com mÃºltiplas etiquetas por pÃ¡gina

---

**Ãšltima atualizaÃ§Ã£o:** 16 Janeiro 2026  
**VersÃ£o:** 1.0  
**Status:** âœ… Production Ready
